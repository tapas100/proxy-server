var express = require('express');
var router = express.Router();
const axios = require('axios');
const getAdminList = async () => {
    let response;
    try {
         response = await axios.get('https://dev-dnaspaces.io/api/v1/rbac/admins', {
          headers: {
            'authority': 'dev-dnaspaces.io',
            'accept': 'application/json, text/plain, */*',
            'accept-language': 'en-US,en;q=0.9',
            'authorization': 'Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InRhbWFoYW50QGNpc2NvLmNvbSIsInVzZXJJZCI6MzU4MywidGVuYW50SWQiOjE4NTcsImNOYW1lIjoiMjFGZWIyNUFDVCIsInJvbGUiOiIiLCJpYnkiOiJDT01NT05UTVMiLCJzdG8iOiIyMDI0LTAxLTE4VDIxOjU1OjQ0WiIsInR5cGUiOiJzeXN0ZW1fdG9rZW4iLCJkZXRhaWxzIjpbeyJhcHBOYW1lIjoiT3BlcmF0aW9uYWxJbnNpZ2h0IiwiYXBwRGlzcGxheU5hbWUiOiJBc3NldCBMb2NhdG9yIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiRE5BU3BhY2VzIiwiYXBwRGlzcGxheU5hbWUiOiJETkEgU3BhY2VzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiQ2FwdGl2ZVBvcnRhbCIsImFwcERpc3BsYXlOYW1lIjoiQ2FwdGl2ZSBQb3J0YWxzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiTWFwU2VydmljZSIsImFwcERpc3BsYXlOYW1lIjoiTWFwU2VydmljZSIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IkxvY2F0aW9uQW5hbHl0aWNzIiwiYXBwRGlzcGxheU5hbWUiOiJMb2NhdGlvbiBBbmFseXRpY3MiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJFZGdlRGV2aWNlTWFuYWdlciIsImFwcERpc3BsYXlOYW1lIjoiSW9UIFNlcnZpY2VzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiUmlnaHROb3ciLCJhcHBEaXNwbGF5TmFtZSI6IlJpZ2h0IE5vdyIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IkltcGFjdEFuYWx5c2lzIiwiYXBwRGlzcGxheU5hbWUiOiJJbXBhY3QgQW5hbHlzaXMiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJCdXNpbmVzc0luc2lnaHRzIiwiYXBwRGlzcGxheU5hbWUiOiJCZWhhdmlvciBNZXRyaWNzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiQ2FtZXJhTWV0cmljcyIsImFwcERpc3BsYXlOYW1lIjoiQ2FtZXJhIE1ldHJpY3MiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJPcGVuUm9hbWluZyIsImFwcERpc3BsYXlOYW1lIjoiT3BlblJvYW1pbmciLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJFbmdhZ2VtZW50cyIsImFwcERpc3BsYXlOYW1lIjoiRW5nYWdlbWVudHMiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJMb2NhdGlvblBlcnNvbmFzIiwiYXBwRGlzcGxheU5hbWUiOiJMb2NhdGlvbiBQZXJzb25hcyIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IkxvY2F0aW9uIiwiYXBwRGlzcGxheU5hbWUiOiJEZXRlY3QgYW5kIExvY2F0ZSIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IlNpZ25hZ2UiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJXb3Jrc3BhY2VFeHBlcmllbmNlIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiSW90RXhwbG9yZXIiLCJhcHBSb2xlIjoiUlciLCJhcHBEaXNwbGF5TmFtZSI6IklvVCBFeHBsb3JlciJ9XSwiaWF0IjoxNzA1NjE0OTA5LCJvcmlnaW5hbF9pYXQiOjE3MDU2MTQ5MDksImF1dGh0eXBlIjoiU1NPIiwiYXV0aE9ubHkiOnRydWUsImlzU3VwIjpmYWxzZSwic3NvVXNlciI6IiIsInVsYSI6dHJ1ZSwiZXhwIjoxNzA1NjE2NzA5fQ.KkWE6GQyDyDQiE6GhjUzq10Bnp9Mxbs6W9mb8IHZrJwM96qPblImc0dV7sdl0UYKXKZ-B6khYZxJCvqBWxrSFtikTdG90HZeA8MLMuSIQjPWzxxr1KwrNGtpVryr0Dbc7M8OGiRY-qvter9U9juiZg3LjXWCi2reCr_uEVInyTxMR0X5rpe3MA5jgFLtEGj5gFblOJFgR4jLv9aSc_1PX-TObrzfo8-dylbQdDpv1yZMCHmCXdRhWHBP8PtHwda2L66UszHIOg119pXbvvVKKmntYosBBObL801pHuToU7u9p_NIBluIunNpnusHIVDQpwgHKpsWQKBXDe1EK90WgQ',
            'content-type': 'application/json',
            'cookie': 'cs-locale=en; tm-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1ODMsImF1dGh0eXBlIjoiU1NPIiwidXVpZCI6IjE4NzVmZjIwLWI2NGMtMTFlZS04OGRjLWVmOGJkMGU0MTgwYiIsImlieSI6IkNvbW1vbiBTZXJ2aWNlcyIsInR5cGUiOiJ1c2VyX2FjY2Vzc190b2tlbiIsInVzZXJuYW1lIjoidGFtYWhhbnRAY2lzY28uY29tIiwidGVuYW50aWQiOm51bGwsInRlbmFudElkIjpudWxsLCJpYXQiOjE3MDU2MTQ4NDMsImV4cCI6MTcwNTYxNTAyM30.9ABQhEKQ5Yx9iSzr7n358SAk_IrVVpEInHT0amhyb0Q; __hstc=116614041.24c8044427155ee464397bc9c64e2fc9.1705614904130.1705614904130.1705614904130.1; hubspotutk=24c8044427155ee464397bc9c64e2fc9; __hssrc=1; __hssc=116614041.1.1705614904130; tm-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjM1ODMsImF1dGh0eXBlIjoiU1NPIiwidXVpZCI6IjE4NzVmZjIwLWI2NGMtMTFlZS04OGRjLWVmOGJkMGU0MTgwYiIsImNOYW1lIjoiMjFGZWIyNUFDVCIsImlieSI6IkNvbW1vbiBTZXJ2aWNlcyIsInR5cGUiOiJ1c2VyX2FjY2Vzc190b2tlbiIsInVzZXJuYW1lIjoidGFtYWhhbnRAY2lzY28uY29tIiwidGVuYW50aWQiOjE4NTcsInRlbmFudElkIjoxODU3LCJpYXQiOjE3MDU2MTQ5MTQsImV4cCI6MTcwNTYxNTA5NH0.JJUY6GG4CTRpdvhPJa4yhG8t-dGc60YfqrYYXdgVrbk; sys-token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6InRhbWFoYW50QGNpc2NvLmNvbSIsInVzZXJJZCI6MzU4MywidGVuYW50SWQiOjE4NTcsImNOYW1lIjoiMjFGZWIyNUFDVCIsInJvbGUiOiIiLCJpYnkiOiJDT01NT05UTVMiLCJzdG8iOiIyMDI0LTAxLTE4VDIxOjU1OjQ0WiIsInR5cGUiOiJzeXN0ZW1fdG9rZW4iLCJkZXRhaWxzIjpbeyJhcHBOYW1lIjoiT3BlcmF0aW9uYWxJbnNpZ2h0IiwiYXBwRGlzcGxheU5hbWUiOiJBc3NldCBMb2NhdG9yIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiRE5BU3BhY2VzIiwiYXBwRGlzcGxheU5hbWUiOiJETkEgU3BhY2VzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiQ2FwdGl2ZVBvcnRhbCIsImFwcERpc3BsYXlOYW1lIjoiQ2FwdGl2ZSBQb3J0YWxzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiTWFwU2VydmljZSIsImFwcERpc3BsYXlOYW1lIjoiTWFwU2VydmljZSIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IkxvY2F0aW9uQW5hbHl0aWNzIiwiYXBwRGlzcGxheU5hbWUiOiJMb2NhdGlvbiBBbmFseXRpY3MiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJFZGdlRGV2aWNlTWFuYWdlciIsImFwcERpc3BsYXlOYW1lIjoiSW9UIFNlcnZpY2VzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiUmlnaHROb3ciLCJhcHBEaXNwbGF5TmFtZSI6IlJpZ2h0IE5vdyIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IkltcGFjdEFuYWx5c2lzIiwiYXBwRGlzcGxheU5hbWUiOiJJbXBhY3QgQW5hbHlzaXMiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJCdXNpbmVzc0luc2lnaHRzIiwiYXBwRGlzcGxheU5hbWUiOiJCZWhhdmlvciBNZXRyaWNzIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiQ2FtZXJhTWV0cmljcyIsImFwcERpc3BsYXlOYW1lIjoiQ2FtZXJhIE1ldHJpY3MiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJPcGVuUm9hbWluZyIsImFwcERpc3BsYXlOYW1lIjoiT3BlblJvYW1pbmciLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJFbmdhZ2VtZW50cyIsImFwcERpc3BsYXlOYW1lIjoiRW5nYWdlbWVudHMiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJMb2NhdGlvblBlcnNvbmFzIiwiYXBwRGlzcGxheU5hbWUiOiJMb2NhdGlvbiBQZXJzb25hcyIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IkxvY2F0aW9uIiwiYXBwRGlzcGxheU5hbWUiOiJEZXRlY3QgYW5kIExvY2F0ZSIsImFwcFJvbGUiOiJSVyJ9LHsiYXBwTmFtZSI6IlNpZ25hZ2UiLCJhcHBSb2xlIjoiUlcifSx7ImFwcE5hbWUiOiJXb3Jrc3BhY2VFeHBlcmllbmNlIiwiYXBwUm9sZSI6IlJXIn0seyJhcHBOYW1lIjoiSW90RXhwbG9yZXIiLCJhcHBSb2xlIjoiUlciLCJhcHBEaXNwbGF5TmFtZSI6IklvVCBFeHBsb3JlciJ9XSwiaWF0IjoxNzA1NjE0OTA5LCJvcmlnaW5hbF9pYXQiOjE3MDU2MTQ5MDksImF1dGh0eXBlIjoiU1NPIiwiYXV0aE9ubHkiOnRydWUsImlzU3VwIjpmYWxzZSwic3NvVXNlciI6IiIsInVsYSI6dHJ1ZSwiZXhwIjoxNzA1NjE2NzA5fQ.KkWE6GQyDyDQiE6GhjUzq10Bnp9Mxbs6W9mb8IHZrJwM96qPblImc0dV7sdl0UYKXKZ-B6khYZxJCvqBWxrSFtikTdG90HZeA8MLMuSIQjPWzxxr1KwrNGtpVryr0Dbc7M8OGiRY-qvter9U9juiZg3LjXWCi2reCr_uEVInyTxMR0X5rpe3MA5jgFLtEGj5gFblOJFgR4jLv9aSc_1PX-TObrzfo8-dylbQdDpv1yZMCHmCXdRhWHBP8PtHwda2L66UszHIOg119pXbvvVKKmntYosBBObL801pHuToU7u9p_NIBluIunNpnusHIVDQpwgHKpsWQKBXDe1EK90WgQ',
            'referer': 'https://dev-dnaspaces.io/team',
            'sec-ch-ua': '"Not_A Brand";v="8", "Chromium";v="120", "Google Chrome";v="120"',
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': '"macOS"',
            'sec-fetch-dest': 'empty',
            'sec-fetch-mode': 'cors',
            'sec-fetch-site': 'same-origin',
            'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
          }
        });
          console.log('response12',response)
          return response
    } catch (error) {
        console.log('Error12',error);
      return error?.response;  
    

    }
    return response;
  };


/* GET users listing. */
router.get('/', async function(req, res, next) {
   let result = await  getAdminList();
   console.log('here',result.data);
  res.status(200).send(result?.data);
});

module.exports = router;
